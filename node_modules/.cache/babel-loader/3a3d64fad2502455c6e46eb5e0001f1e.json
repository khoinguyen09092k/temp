{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ADMIN\\\\Desktop\\\\del\\\\temp\\\\src\\\\templates\\\\Admin\\\\Pages\\\\Courses\\\\editCourse.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport { Form, Input, Select } from \"antd\";\nimport { useFormik } from \"formik\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getDetailsCoursesEditAction, updateCourseAction, capNhatKhoaHocAction } from \"../../../../redux/actions/coursesAdminActions\";\nimport { GROUPID } from \"../../../../utilities/Settings/config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EditCourse(props) {\n  _s();\n\n  var _detailCourseEdit$dan;\n\n  const [componentSize, setComponentSize] = useState(\"default\");\n  const [imgSrc, setImgSrc] = useState(\"\");\n  const {\n    detailCourseEdit\n  } = useSelector(state => state.CoursesAdminReducer); //   console.log({detailCourseEdit})\n\n  const dispatch = useDispatch();\n  useEffect(() => {\n    let {\n      id\n    } = props.match.params;\n    dispatch(getDetailsCoursesEditAction(id));\n  }, []);\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      maKhoaHoc: detailCourseEdit === null || detailCourseEdit === void 0 ? void 0 : detailCourseEdit.maKhoaHoc,\n      tenKhoaHoc: detailCourseEdit === null || detailCourseEdit === void 0 ? void 0 : detailCourseEdit.tenKhoaHoc,\n      tenDanhMucKhoaHoc: detailCourseEdit === null || detailCourseEdit === void 0 ? void 0 : (_detailCourseEdit$dan = detailCourseEdit.danhMucKhoaHoc) === null || _detailCourseEdit$dan === void 0 ? void 0 : _detailCourseEdit$dan.tenDanhMucKhoaHoc,\n      moTa: detailCourseEdit === null || detailCourseEdit === void 0 ? void 0 : detailCourseEdit.moTa,\n      hinhAnh: null,\n      maNhom: GROUPID,\n      ngayTao: \"\"\n    },\n    onSubmit: values => {\n      console.log(\"values\", values);\n      let formData = new FormData();\n\n      for (let key in values) {\n        if (key !== \"hinhAnh\") {\n          formData.append(key, values[key]);\n        } else if (values.hinhAnh !== null) {\n          formData.append(\"File\", values.hinhAnh, values.hinhAnh.name);\n        } else {\n          alert('Vui lòng chọn ảnh  cho khóa học');\n        }\n      }\n\n      console.log({\n        values\n      }); //Gọi API gửi giá trị FormData về backend\n\n      dispatch(capNhatKhoaHocAction(formData));\n    }\n  });\n\n  const onFormLayoutChange = ({\n    size\n  }) => {\n    setComponentSize(size);\n  };\n\n  const handleChangeFile = async e => {\n    //Lấy file ra từ event\n    let file = e.target.files[0];\n\n    if (file.type === \"image/jpeg\" || file.type === \"image/png\" || file.type === \"image/jpg\") {\n      //Đem dữ liệu lưu vào formik\n      await formik.setFieldValue(\"hinhAnh\", file); //Tạo đối tượng đọc file\n\n      let reader = new FileReader();\n      reader.readAsDataURL(file);\n\n      reader.onload = e => {\n        // console.log(e.target.result);\n        setImgSrc(e.target.result);\n      };\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"py-12\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl flex flex-row items-center mx-auto px-4 xl:px-0 sm:px-6 md:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-4xl\",\n          children: \"S\\u1EEDa kho\\xE1 h\\u1ECDc\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto xl:px-0 sm:px-6 md:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-6 py-12 shadow-xl bg-white\",\n          style: {\n            border: \"1px solid #ddd\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Form, {\n            onSubmitCapture: formik.handleSubmit,\n            labelCol: {\n              span: 3\n            },\n            wrapperCol: {\n              span: 14\n            },\n            layout: \"horizontal\",\n            initialValues: {\n              size: componentSize\n            },\n            onValuesChange: onFormLayoutChange,\n            size: componentSize,\n            children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n              label: \"T\\xEAn kh\\xF3a h\\u1ECDc\",\n              children: /*#__PURE__*/_jsxDEV(Input, {\n                name: \"tenKhoaHoc\",\n                value: formik.values.tenKhoaHoc,\n                onChange: formik.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n              label: \"Danh m\\u1EE5c kh\\xF3a h\\u1ECDc\",\n              children: /*#__PURE__*/_jsxDEV(Select, {\n                name: \"tenDanhMucKhoaHoc\",\n                placeholder: \"Ch\\u1ECDn danh m\\u1EE5c kh\\xF3a h\\u1ECDc\",\n                value: formik.values.tenDanhMucKhoaHoc,\n                onChange: values => formik.setFieldValue(\"tenDanhMucKhoaHoc\", values),\n                children: [/*#__PURE__*/_jsxDEV(Select.Option, {\n                  value: \"L\\u1EADp tr\\xECnh Backend\",\n                  children: \"L\\u1EADp tr\\xECnh Backend\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select.Option, {\n                  value: \"L\\u1EADp tr\\xECnh Front end\",\n                  children: \"L\\u1EADp tr\\xECnh Front end\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 133,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select.Option, {\n                  value: \"L\\u1EADp tr\\xECnh Full Stack\",\n                  children: \"L\\u1EADp tr\\xECnh Full Stack\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 136,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select.Option, {\n                  value: \"Thi\\u1EBFt k\\u1EBF Web\",\n                  children: \"Thi\\u1EBFt k\\u1EBF Web\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select.Option, {\n                  value: \"L\\u1EADp tr\\xECnh di \\u0111\\u1ED9ng\",\n                  children: \"L\\u1EADp tr\\xECnh di \\u0111\\u1ED9ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Select.Option, {\n                  value: \"T\\u01B0 duy l\\u1EADp tr\\xECnh\",\n                  children: \"T\\u01B0 duy l\\u1EADp tr\\xECnh\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n              label: \"M\\xF4 t\\u1EA3\",\n              children: /*#__PURE__*/_jsxDEV(Input.TextArea, {\n                name: \"moTa\",\n                value: formik.values.moTa,\n                onChange: formik.handleChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n              label: \"H\\xECnh \\u1EA3nh\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"file\",\n                accept: \"image/jpeg, image/png, image/jpg\",\n                onChange: handleChangeFile\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 163,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  width: 200,\n                  height: \"auto\"\n                },\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: imgSrc === \"\" ? detailCourseEdit.hinhAnh : imgSrc,\n                  alt: \"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n              wrapperCol: {\n                offset: 3\n              },\n              label: \"\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"py-2 px-8 hover:shadow-xl transition-all duration-150\",\n                type: \"submit\",\n                style: {\n                  backgroundColor: \"#33CC99\",\n                  color: \"#fff\"\n                },\n                children: \"C\\u1EADp nh\\u1EADt\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EditCourse, \"3kpo9Sy3ARmQAB8PJZ39oGed3s8=\", false, function () {\n  return [useSelector, useDispatch, useFormik];\n});\n\n_c = EditCourse;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditCourse\");","map":{"version":3,"sources":["C:/Users/ADMIN/Desktop/del/temp/src/templates/Admin/Pages/Courses/editCourse.js"],"names":["React","Fragment","useEffect","useState","Form","Input","Select","useFormik","useDispatch","useSelector","getDetailsCoursesEditAction","updateCourseAction","capNhatKhoaHocAction","GROUPID","EditCourse","props","componentSize","setComponentSize","imgSrc","setImgSrc","detailCourseEdit","state","CoursesAdminReducer","dispatch","id","match","params","formik","enableReinitialize","initialValues","maKhoaHoc","tenKhoaHoc","tenDanhMucKhoaHoc","danhMucKhoaHoc","moTa","hinhAnh","maNhom","ngayTao","onSubmit","values","console","log","formData","FormData","key","append","name","alert","onFormLayoutChange","size","handleChangeFile","e","file","target","files","type","setFieldValue","reader","FileReader","readAsDataURL","onload","result","border","handleSubmit","span","handleChange","width","height","offset","backgroundColor","color"],"mappings":"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","sourcesContent":["\r\nimport React, { Fragment, useEffect, useState } from \"react\";\r\nimport { Form, Input, Select } from \"antd\";\r\nimport { useFormik } from \"formik\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport {\r\n  getDetailsCoursesEditAction,\r\n  updateCourseAction,\r\n  capNhatKhoaHocAction, \r\n} from \"../../../../redux/actions/coursesAdminActions\";\r\nimport { GROUPID } from \"../../../../utilities/Settings/config\";\r\n\r\nexport default function EditCourse(props) {\r\n  const [componentSize, setComponentSize] = useState(\"default\");\r\n  const [imgSrc, setImgSrc] = useState(\"\");\r\n\r\n  const { detailCourseEdit } = useSelector(\r\n    (state) => state.CoursesAdminReducer\r\n  );\r\n  //   console.log({detailCourseEdit})\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    let { id } = props.match.params;\r\n\r\n    dispatch(getDetailsCoursesEditAction(id));\r\n  }, []);\r\n\r\n  const formik = useFormik({\r\n    enableReinitialize: true,\r\n    initialValues: {\r\n      maKhoaHoc: detailCourseEdit?.maKhoaHoc,\r\n      tenKhoaHoc: detailCourseEdit?.tenKhoaHoc,\r\n      tenDanhMucKhoaHoc: detailCourseEdit?.danhMucKhoaHoc?.tenDanhMucKhoaHoc,\r\n      moTa: detailCourseEdit?.moTa,\r\n      hinhAnh: null,\r\n      maNhom: GROUPID,\r\n      ngayTao: \"\",\r\n    },\r\n    onSubmit: (values) => {\r\n      console.log(\"values\", values);\r\n\r\n      let formData = new FormData();\r\n\r\n      for (let key in values) {\r\n        if (key !== \"hinhAnh\") {\r\n          formData.append(key, values[key]);\r\n        } else if (values.hinhAnh !== null) {\r\n          formData.append(\"File\", values.hinhAnh, values.hinhAnh.name);\r\n        }\r\n        else {\r\n          alert('Vui lòng chọn ảnh  cho khóa học')\r\n        }\r\n      }\r\n      console.log({values})\r\n\r\n      //Gọi API gửi giá trị FormData về backend\r\n      dispatch(capNhatKhoaHocAction(formData));\r\n    },\r\n  });\r\n\r\n  const onFormLayoutChange = ({ size }) => {\r\n    setComponentSize(size);\r\n  };\r\n\r\n  const handleChangeFile = async (e) => {\r\n    //Lấy file ra từ event\r\n    let file = e.target.files[0];\r\n\r\n    if (\r\n      file.type === \"image/jpeg\" ||\r\n      file.type === \"image/png\" ||\r\n      file.type === \"image/jpg\"\r\n    ) {\r\n      //Đem dữ liệu lưu vào formik\r\n      await formik.setFieldValue(\"hinhAnh\", file);\r\n      //Tạo đối tượng đọc file\r\n      let reader = new FileReader();\r\n      reader.readAsDataURL(file);\r\n      reader.onload = (e) => {\r\n        // console.log(e.target.result);\r\n        setImgSrc(e.target.result);\r\n      };\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Fragment>\r\n      <div className=\"py-12\">\r\n        <div className=\"max-w-7xl flex flex-row items-center mx-auto px-4 xl:px-0 sm:px-6 md:px-8\">\r\n        <h3 className=\"text-4xl\">Sửa khoá học</h3>\r\n        </div>\r\n        <div className=\"max-w-7xl mx-auto xl:px-0 sm:px-6 md:px-8\">\r\n          <div\r\n            className=\"my-6 py-12 shadow-xl bg-white\"\r\n            style={{ border: \"1px solid #ddd\" }}\r\n          >\r\n            <Form\r\n              onSubmitCapture={formik.handleSubmit}\r\n              labelCol={{\r\n                span: 3,\r\n              }}\r\n              wrapperCol={{\r\n                span: 14,\r\n              }}\r\n              layout=\"horizontal\"\r\n              initialValues={{\r\n                size: componentSize,\r\n              }}\r\n              onValuesChange={onFormLayoutChange}\r\n              size={componentSize}\r\n            >\r\n              <Form.Item label=\"Tên khóa học\">\r\n                <Input\r\n                  name=\"tenKhoaHoc\"\r\n                  value={formik.values.tenKhoaHoc}\r\n                  onChange={formik.handleChange}\r\n                />\r\n              </Form.Item>\r\n              <Form.Item label=\"Danh mục khóa học\">\r\n                <Select\r\n                  name=\"tenDanhMucKhoaHoc\"\r\n                  placeholder=\"Chọn danh mục khóa học\"\r\n                  value={formik.values.tenDanhMucKhoaHoc}\r\n                  onChange={(values) =>\r\n                    formik.setFieldValue(\"tenDanhMucKhoaHoc\", values)\r\n                  }\r\n                >\r\n                  \r\n                  <Select.Option value=\"Lập trình Backend\">\r\n                    Lập trình Backend\r\n                  </Select.Option>\r\n                  <Select.Option value=\"Lập trình Front end\">\r\n                    Lập trình Front end\r\n                  </Select.Option>\r\n                  <Select.Option value=\"Lập trình Full Stack\">\r\n                    Lập trình Full Stack\r\n                  </Select.Option>\r\n                  <Select.Option value=\"Thiết kế Web\">\r\n                    Thiết kế Web\r\n                  </Select.Option>\r\n                  <Select.Option value=\"Lập trình di động\">\r\n                    Lập trình di động\r\n                  </Select.Option>\r\n                  <Select.Option value=\"Tư duy lập trình\">\r\n                    Tư duy lập trình\r\n                  </Select.Option>\r\n                </Select>\r\n              </Form.Item>\r\n              <Form.Item label=\"Mô tả\">\r\n                <Input.TextArea\r\n                  name=\"moTa\"\r\n                  value={formik.values.moTa}\r\n                  onChange={formik.handleChange}\r\n                />\r\n              </Form.Item>\r\n              <Form.Item label=\"Hình ảnh\">\r\n                <input\r\n                  type=\"file\"\r\n                  accept=\"image/jpeg, image/png, image/jpg\"\r\n                  onChange={handleChangeFile}\r\n                />\r\n                <br />\r\n                <div style={{ width: 200, height: \"auto\" }}>\r\n                  <img\r\n                    src={imgSrc === \"\" ? detailCourseEdit.hinhAnh : imgSrc}\r\n                    alt=\"\"\r\n                  />\r\n                </div>\r\n              </Form.Item>\r\n              <Form.Item\r\n                wrapperCol={{\r\n                  offset: 3,\r\n                }}\r\n                label=\"\"\r\n              >\r\n                <button\r\n                  className=\"py-2 px-8 hover:shadow-xl transition-all duration-150\"\r\n                  type=\"submit\"\r\n                  style={{ backgroundColor: \"#33CC99\", color: \"#fff\" }}\r\n                >\r\n                  Cập nhật\r\n                </button>\r\n              </Form.Item>\r\n            </Form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Fragment>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}